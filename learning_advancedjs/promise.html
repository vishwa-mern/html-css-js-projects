<!DOCTYPE html>
<html>
<body>

<h1>Promise Demo</h1>
<h2 id="h2"></h2>
<button id="button">Click me</button> 

<script>
let h2 = document.getElementById("h2");
let button = document.getElementById("button");
let success = true; // ðŸ” toggle hoga

function handleClick() {
  return new Promise((resolve, reject) => {
    if (success) {
      resolve("âœ… Promise resolved");
    } else {
      reject("âŒ Promise rejected");
    }
    success=!success; // next click ke liye change
  });
};

// button.addEventListener("click", () => {
//  handleClick()
//     .then(message => {
//       h2.textContent = message;
//     })
//     .catch(message => {
//       h2.textContent = message;
//     });
// }); 
 let id=setInterval(function(){
    handleClick()
        .then(message => {
        h2.textContent = message;
        })
        .catch(message => {
        h2.textContent = message;
        });
}, 2000);

button.addEventListener("click", function(){
    clearInterval(id);
});
button.addEventListener("dblclick", function(){
    id=setInterval(function(){
        handleClick()
            .then(message => {
            h2.textContent = message;
            })
            .catch(message => {
            h2.textContent = message;
            });
    }, 2000);
});
 
</script>

</body>
</html>


